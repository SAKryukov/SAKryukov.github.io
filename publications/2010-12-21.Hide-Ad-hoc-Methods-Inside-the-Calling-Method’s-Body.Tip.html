<!DOCTYPE html>
<!-- saved from url=(0090)https://www.codeproject.com/Tips/137796/Hide-Ad-hoc-Methods-Inside-the-Calling-Method-s-Bo -->
<html lang="en" data-lt-installed="true"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

	
	<link rel="preconnect" href="https://www.google-analytics.com/">

	<link rel="preconnect" href="https://www.codeproject.com/">


	<link rel="preload" href="./Resources/logo250x135.gif" as="image">


	<link rel="preload" href="https://www.codeproject.com/App_Themes/CodeProject/Img/logo135-bg.gif" as="image">
	<link rel="preload" href="./Resources/jquery-3.4.1.min.js.download" as="script" type="text/javascript">


	<title>Hide Ad-hoc Methods Inside the Calling Method’s Body- CodeProject</title> 
    
	<link type="text/css" rel="stylesheet" href="./Resources/Article.min.css">


    <script type="text/javascript" async="" src="./Resources/analytics.js.download"></script><script type="text/javascript" src="./Resources/jquery-3.4.1.min.js.download" defer=""></script>
<script type="text/javascript" src="./Resources/article.min.js.download" defer=""></script>

	
<meta http-equiv="content-language" content="en-US">

<meta name="Description" content="Using anonymous methods helps to limit visibility of code callable just from within one method">
<meta name="Keywords" content="C#">
<meta name="Author" content="Sergey Alexandrovich Kryukov">
<meta name="Rating" content="General">
<meta name="Revisit-After" content="1 days">
<meta name="application-name" content="CodeProject">
<meta name="google-translate-customization" content="d908bb7ce7aff658-4c2f3a504525c916-g629383f736781a8a-13">



<link rel="dns-prefetch" href="https://ajax.googleapis.com/"> 
<link rel="canonical" href="https://www.codeproject.com/Tips/137796/Hide-Ad-hoc-Methods-Inside-the-Calling-Method-s-Bo">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@CodeProject">
<meta name="og:site_name" content="CodeProject">
<meta name="twitter:creator" content="@CodeProject">
<meta property="og:type" content="article">
<meta property="article:published_time" content="12/20/2010 7:09:00 AM">
<meta property="article:modified_time" content="12/21/2010 6:27:00 PM">
<meta name="twitter:label1" content="Written by">
<meta name="twitter:data1" content="Sergey Alexandrovich Kryukov">
<meta name="twitter:label2" content="Reading time">
<meta name="twitter:data2" content="1 min read">
<meta property="og:url" content="https://www.codeproject.com/Tips/137796/Hide-Ad-hoc-Methods-Inside-the-Calling-Method-s-Bo">
<meta property="og:title" content="Hide Ad-hoc Methods Inside the Calling Method’s Body">
<meta property="og:description" content="Using anonymous methods helps to limit visibility of code callable just from within one method">


<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="apple-touch-icon" sizes="144x144" href="https://www.codeproject.com/favicon/apple-touch-icon.png"> 
<link rel="icon" type="image/png" sizes="32x32" href="https://www.codeproject.com/favicon/favicon-32x32.png"> 
<link rel="icon" type="image/png" sizes="16x16" href="https://www.codeproject.com/favicon/favicon-16x16.png"> 
<link rel="manifest" href="https://www.codeproject.com/favicon/manifest.json"> 
<link rel="mask-icon" href="https://www.codeproject.com/favicon/safari-pinned-tab.svg" color="#ff9900">
	<script type="application/ld+json">{
  "@context": "http://schema.org",
  "@type": "TechArticle",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.codeproject.com/Tips/137796/Hide-Ad-hoc-Methods-Inside-the-Calling-Method-s-Bo"
   },
  "name": "Hide Ad-hoc Methods Inside the Calling Method’s Body",
  "headline": "Hide Ad-hoc Methods Inside the Calling Method’s Body",
  "url": "https://www.codeproject.com/Tips/137796/Hide-Ad-hoc-Methods-Inside-the-Calling-Method-s-Bo",
  "discussionUrl": "#_comments",
  "isFamilyFriendly": "true",
  "image": "https://www.codeproject.com/App_Themes/CodeProject/Img/Article100.png",
  "keywords": "C#",
  "commentCount": "0",
  "editor" : {
    "@type" : "Person",
    "name" : "Editor",
    "url" : "https://www.codeproject.com/script/Membership/View.aspx?mid=3866010"
  },
  "license": "http://www.codeproject.com/info/cpol10.aspx",
  "publisher" : {
    "@type" : "Organization",
    "name" : "CodeProject"
  },
  "description": "Using anonymous methods helps to limit visibility of code callable just from within one method",
  "articleSection": "C#",
  "author" : [{
      "@type" : "Person",
      "name" : "Sergey Alexandrovich Kryukov",
      "url" : "https://www.codeproject.com/script/Membership/View.aspx?mid=2291164"
    }],
  "datePublished": "2010-12-20",
  "dateCreated": "2010-12-20",
  "dateModified": "2010-12-21"
,
  "contentRating" : {
    "@type" : "Rating",
    "ratingValue" : 4.62,
    "bestRating" : 5,
    "worstRating" : 1
  }
}</script>

<script type="application/ld+json">{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
    "@type": "ListItem",
    "position": 1,
    "item" : {
      "@id" : "/script/Content/Tag.aspx?tags=Languages",
      "name" : "Languages"
    }
  },{
    "@type": "ListItem",
    "position": 2,
    "item" : {
      "@id" : "/script/Content/Tag.aspx?tags=Csharp",
      "name" : "C#"
    }
  }]
}</script>

<script type="text/javascript">
function defrm () { /* thanks twitter */
    document.write = '';
    window.top.location = window.self.location;
    setTimeout(function() { document.body.innerHTML = ''; }, 0);
    window.self.onload = function(evt) { document.body.innerHTML = ''; };
}

if (window.top !== window.self) {
    try {
        if (window.top.location.host) { /* will throw for all except chrome */ }
        else { defrm(); /* chrome */ }
    } catch (ex) { defrm(); /* everyone else */ }
}

// Specific case where a site is screwing with us.
if (typeof(DemoUrl) !== 'undefined') {
    document.write(unescape('%3Cme') + 'ta http' + '-equiv="re' + 'fresh con' +
                           'tent="1;url=' + DemoUrl + unescape('"%3CE'));
}
</script>
	





    <script async="" type="text/javascript" src="./Resources/js"></script>
    <script type="text/javascript">
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-1735123-1' , {'user_id': '42a7d533-9829-4f88-8fc6-84dc936250c9'});
    </script>

<style type="text/css"></style></head>	

<body class="chrome chrome120" data-new-gr-c-s-check-loaded="14.1215.0" data-gr-ext-installed="">



<a class="access-link" href="#Main"><img alt="Click here to Skip to main content" src="./Resources/t.gif"></a>




<div class="page-background">

	
	

	

	
    <div id="ctl00_STM" class="site-top-menu fixed narrow">
        <div class="main-content">
            

<div class="container memberbar clearfix flex-container flex-extend">

	<div id="ctl00_MemberBar_GenInfo" class="flex-item align-left">65,938 articles</div>
	
	<div id="ctl00_MemberBar_ChangeNotice" class="flex-item align-left">CodeProject
	is changing. <a href="https://www.codeproject.com/info/Changes.aspx">Read more</a>.</div>

	<div class="flex-item">
		
	</div>

	<div class="flex-item align-right">

		

		

		
	</div>
</div>
        </div>
    </div>

	
    <div id="ctl00_SH" class="site-header fixed narrow">
        <div class="main-content">
            <div class="logo"><a href="https://www.codeproject.com/"><img id="ctl00_Logo" tabindex="1" title="CodeProject" src="./Resources/logo250x135.gif" alt="Home" style="height:135px;width:250px;border-width:0px;"></a></div>
            <div class="promo"></div>
        </div>
    </div>

	
			
	

	<div id="A" class="container-content-wrap fixed narrow"> 

	<div class="container-content">

        
		<div class="clearfix">
			<div class="container-breadcrumb float-left ">
				<div><a rel="nofollow" href="https://www.codeproject.com/script/Content/SiteMap.aspx">Articles</a> / <a rel="nofollow" href="https://www.codeproject.com/script/Content/Tag.aspx?tags=Languages">Languages</a> / <a rel="nofollow" href="https://www.codeproject.com/script/Content/Tag.aspx?tags=Csharp">C#</a></div>
			</div>

            <div class="float-left">
				
			</div>

			<div class="edit-links float-right">
				



 
&nbsp;










			</div>

			<div class="article-nav float-right">
				


<div style="display:inline-block;position:relative;top:-6px;margin-right:20px">
    
</div>



 

<a id="ctl00_ActionLinks_PrintMd" data-tooltip="Print" data-enabletooltip="true" data-width="auto" href="https://www.codeproject.com/Tips/137796/Hide-Ad-hoc-Methods-Inside-the-Calling-Method-s-Bo?display=Print" class="tooltip" title="">
   <img src="./Resources/print48.png" width="24" height="24" style="border:0">
<div class="speech-bubble-container-up" style="width:auto">  <div class="speech-bubble-up" style="text-align:center"> Print</div>  <div class="speech-bubble-pointer-up">    <div class="speech-bubble-pointer-up-inner"></div>  </div></div></a>



<span id="ctl00_ActionLinks_R">
    
    
</span>
			</div>
		</div>

        
		<div class="extended article-container-parts">

			
		    
            

			
			<div id="AT" class="article-container  fixed narrow" style="max-width:inherit;"> 

				<div class="article">

					<form name="aspnetForm" method="post" action="https://www.codeproject.com/Tips/137796/View.aspx" id="aspnetForm" style="margin:0;padding:0">
<div>
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="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">
</div>

<div>

	<input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="10C1FD69">
</div>

					
					 
					<div class="header">
					    <a name="Main"></a>
					    <a name="_articleTop" id="_articleTop"></a>

					    
						<div>
							<span id="ctl00_TagListHorz_TagWrp" class="tags horizontal">

	
	

	
	<span id="ctl00_TagListHorz_VisibleTags"><div class="t"><a rel="tag" href="https://www.codeproject.com/Tags/Csharp" data-id="81">C#</a></div></span> 

	
	
</span>


						</div>
					    <div class="title">
					        <h1 id="ctl00_ArticleTitle">Hide Ad-hoc Methods Inside the Calling Method’s Body</h1>
					    </div>

                        <div>
					        
					        <div class="entry flex-container">

								

                                <div class="flex-item" style="flex:1 1 auto">
                                    <div class="flex-container" style="justify-content:space-between;flex-wrap:wrap-reverse">
                                       <span id="ctl00_Authors" class="author flex-item"><a href="https://www.codeproject.com/script/Membership/View.aspx?mid=2291164" rel="author">Sergey Alexandrovich Kryukov</a></span> 

                                        <div class="flex-item" style="margin-top:-4px;">
                                            <div id="ctl00_RateArticle_RatingTable" class="small-text" data-objectref="2_137796">

	<meta itemprop="upvoteCount" content="7">


	<div id="ctl00_RateArticle_RatingRow" class="flex-container rating-container large-stars">

					
		

		
		<div class="nowrap tooltip">

			
			<div id="ctl00_RateArticle_ResultNoHist" class="rating-result"><div class="flex-container rating-stars large-stars"><div><img src="./Resources/star-fill-lg.png" style="width:24px;height:24px"></div><div><img src="./Resources/star-fill-lg.png" style="width:24px;height:24px"></div><div><img src="./Resources/star-fill-lg.png" style="width:24px;height:24px"></div><div><img src="./Resources/star-fill-lg.png" style="width:24px;height:24px"></div><div style="width:14px;" class="clipped"><img src="./Resources/star-fill-lg.png" style="width:24px;height:24px"></div><div style="width:10px;position:relative" class="clipped"><img src="./Resources/star-empty-lg.png" style="width:24px;height:24px;position:absolute;top:0px;right:0"></div></div></div>
			

			
			

			
            

			
                

		</div>
		
	
		
		<div id="ctl00_RateArticle_VoteCountNoHist" class="rating-votes nowrap">4.62/5  (8 votes)</div>	

		

		
		<div class="rating-undo" title="Undo vote" style="margin-left:5px;display:none"></div>

		
		
	</div>

	
	

</div>

                                        </div>
                                    </div>

                                    <div class="flex-container" style="color:#666;font-size:smaller">
                                        <span id="ctl00_LastUpdated" class="date flex-item-tight" title="Date last updated">21 Dec 2010</span><a id="ctl00_LicenseLink" title="The Code Project Open License (CPOL)" class="license flex-item-tight" href="http://www.codeproject.com/info/cpol10.aspx">CPOL</a><span id="ctl00_ReadingTime" class="stats flex-item-tight">1 min read</span><span id="ctl00_HorizontalStats" class="stats flex-item-tight"><span class="stats"><span title="Views"><img src="./Resources/views32.png" style="width:16px"> 17.2K</span> &nbsp; </span></span>
                                    </div>
                                </div>
					        </div>

                            

                        </div>

                        <div id="ctl00_DescriptionSpot" class="summary">Using anonymous methods helps to limit visibility of code callable just from within one method</div><span id="ctl00_ThumbnailUrl" class="date" content="https://www.codeproject.com/script/Articles/Images/tip100x80.png"></span>			

                    </div>
                    
					
					

					

					
					

					
					

						
					

					

						
						<div id="contentdiv" class="text">
						



<!-- Article Starts -->

Why would anyone restrict any code visibility and scope inside an assembly? Well, by the same reasons limited variable scope is used. The users of Pascal and Delphi (major predecessor of .NET) miss its local methods -- local to the scope of some other method. However, this feature is actually available with .NET and C#.<br>
<br>
Let's consider the following code:<br>
<br>
<div class="pre-lang" id="premain732744"><div>C#</div><div class="pre-action-link"><span id="copycode732744" class="copy-code" data-index="732744" style="visibility: visible;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 460 460" style="width: 16px;height:16px;" xml:space="preserve"><g><path d="M425.934,0H171.662c-18.122,0-32.864,14.743-32.864,32.864v77.134h30V32.864c0-1.579,1.285-2.864,2.864-2.864h254.272     c1.579,0,2.864,1.285,2.864,2.864v254.272c0,1.58-1.285,2.865-2.864,2.865h-74.729v30h74.729 c18.121,0,32.864-14.743,32.864-32.865V32.864C458.797,14.743,444.055,0,425.934,0z"></path><path d="M288.339,139.998H34.068c-18.122,0-32.865,14.743-32.865,32.865v254.272C1.204,445.257,15.946,460,34.068,460h254.272 c18.122,0,32.865-14.743,32.865-32.864V172.863C321.206,154.741,306.461,139.998,288.339,139.998z M288.341,430H34.068    c-1.58,0-2.865-1.285-2.865-2.864V172.863c0-1.58,1.285-2.865,2.865-2.865h254.272c1.58,0,2.865,1.285,2.865,2.865v254.273h0.001 C291.206,428.715,289.92,430,288.341,430z"></path></g></svg></span></div></div>
<pre id="pre732744" style="margin-top:0;" class="lang-csharp notranslate" data-language="cs" data-allowshrink="True" data-collapse="False" data-codeblock-processed="true"><span class="code-keyword">void</span> AdjustMargins(FrameworkElement frameworkElement) {
    Thickness margin = frameworkElement.Margin;
    Control parent = frameworkElement.Parent <span class="code-keyword">as</span> FrameworkElement;
    <span class="code-keyword">if</span> (parent == <span class="code-keyword">null</span>) <span class="code-keyword">return</span>;
    <span class="code-keyword">if</span> (parent.Margin.Left &gt; <span class="code-digit">0</span>) margin.Left = <span class="code-digit">0</span>;
    <span class="code-keyword">if</span> (parent.Margin.Right &gt; <span class="code-digit">0</span>) margin.Right = <span class="code-digit">0</span>;
    <span class="code-keyword">if</span> (parent.Margin.Top &gt; <span class="code-digit">0</span>) margin.Left = <span class="code-digit">0</span>;
    <span class="code-keyword">if</span> (parent.Margin.Bottom &gt; <span class="code-digit">0</span>) margin.Bottom = <span class="code-digit">0</span>;
    <span class="code-comment">//</span><span class="code-comment">..</span>
    frameworkElement.Margin = margin;
} <span class="code-comment">//</span><span class="code-comment">AdjustMargins</span>

<span class="code-keyword">void</span> AdjustLayout() {
    AdjustMargins(panelTop);
    AdjustMargins(panelButtons);
    AdjustMargins(panelProperties);
    AdjustMargins(panelOutput);
    <span class="code-comment">//</span><span class="code-comment">..</span>
} <span class="code-comment">//</span><span class="code-comment">AdjustLayout</span></pre><br>
<br>
It does not really matter what it does. What's wrong in this code?<br>
<br>
The major reason method <code>AdjustMargins</code> code is created as a separate method is elementary code reuse because it is called from the body of the method <code>AdjustLayout</code> more than once. At the same time, this sample suggests that <code>AdjustMargins</code> is an <i>ad-hoc</i> method called <b><big>only</big></b> from <code>AdjustLayout</code>. So, this code is just fine, but it could be a bit more manageable if the callable code of <code>AdjustMargins</code> could be placed entirely into the scope and made completely invisible outside of this scope.<br>
<br>
If the <code>Window </code>class being developed is small enough, it does not matter, but what if it is already overwhelmed with other methods (or tends to be overwhelmed later down the road)? In this case, reducing number of methods visible at the level of the class really helps to keep this class manageable. <br>
<br>
This is where local methods would help a bit, but there is no such thing in .NET -- with the exclusion of anonymous method. With the anonymous methods, one could achieve the same effect as with local methods. We need to use the following pattern:<br>
<br>
<div class="pre-lang" id="premain254422"><div>C#</div><div class="pre-action-link"><span id="copycode254422" class="copy-code" data-index="254422" style="visibility: visible;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 460 460" style="width: 16px;height:16px;" xml:space="preserve"><g><path d="M425.934,0H171.662c-18.122,0-32.864,14.743-32.864,32.864v77.134h30V32.864c0-1.579,1.285-2.864,2.864-2.864h254.272     c1.579,0,2.864,1.285,2.864,2.864v254.272c0,1.58-1.285,2.865-2.864,2.865h-74.729v30h74.729 c18.121,0,32.864-14.743,32.864-32.865V32.864C458.797,14.743,444.055,0,425.934,0z"></path><path d="M288.339,139.998H34.068c-18.122,0-32.865,14.743-32.865,32.865v254.272C1.204,445.257,15.946,460,34.068,460h254.272 c18.122,0,32.865-14.743,32.865-32.864V172.863C321.206,154.741,306.461,139.998,288.339,139.998z M288.341,430H34.068    c-1.58,0-2.865-1.285-2.865-2.864V172.863c0-1.58,1.285-2.865,2.865-2.865h254.272c1.58,0,2.865,1.285,2.865,2.865v254.273h0.001 C291.206,428.715,289.92,430,288.341,430z"></path></g></svg></span></div></div>
<pre id="pre254422" style="margin-top:0;" class="lang-csharp notranslate" data-language="cs" data-allowshrink="True" data-collapse="False" data-codeblock-processed="true"><span class="code-keyword">void</span> AdjustLayout() {
    System.Action&lt;FrameworkElement&gt; adjustMargins =
        (FrameworkElement frameworkElement) =&gt; {
        Thickness margin = frameworkElement.Margin;
        Control parent = frameworkElement.Parent <span class="code-keyword">as</span> FrameworkElement;
        <span class="code-keyword">if</span> (parent == <span class="code-keyword">null</span>) <span class="code-keyword">return</span>;
        <span class="code-keyword">if</span> (parent.Margin.Left &gt; <span class="code-digit">0</span>) margin.Left = <span class="code-digit">0</span>;
        <span class="code-keyword">if</span> (parent.Margin.Right &gt; <span class="code-digit">0</span>) margin.Right = <span class="code-digit">0</span>;
        <span class="code-keyword">if</span> (parent.Margin.Top &gt; <span class="code-digit">0</span>) margin.Left = <span class="code-digit">0</span>;
        <span class="code-keyword">if</span> (parent.Margin.Bottom &gt; <span class="code-digit">0</span>) margin.Bottom = <span class="code-digit">0</span>;
        <span class="code-comment">//</span><span class="code-comment">...</span>
        frameworkElement.Margin = margin;
    }; <span class="code-comment">//</span><span class="code-comment">adjustMargins</span>
    adjustMargins(panelTop);
    adjustMargins(panelButtons);
    adjustMargins(panelProperties);
    adjustMargins(panelOutput);
    <span class="code-comment">//</span><span class="code-comment">...</span>
} <span class="code-comment">//</span><span class="code-comment">AdjustLayout</span></pre><br>
<br>
What if some code should be local but shared by two or more calling methods? Well, delegates are first-class objects, so they can be passed as parameters. Here is a more complex example:<br>
<br>
<div class="pre-lang" id="premain681424"><div>C#</div><div class="pre-action-link"><span class="code-collapse" data-index="681424" id="preShrink681424">Shrink ▲</span> &nbsp; <span id="copycode681424" class="copy-code" data-index="681424" style="visibility: visible;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 460 460" style="width: 16px;height:16px;" xml:space="preserve"><g><path d="M425.934,0H171.662c-18.122,0-32.864,14.743-32.864,32.864v77.134h30V32.864c0-1.579,1.285-2.864,2.864-2.864h254.272     c1.579,0,2.864,1.285,2.864,2.864v254.272c0,1.58-1.285,2.865-2.864,2.865h-74.729v30h74.729 c18.121,0,32.864-14.743,32.864-32.865V32.864C458.797,14.743,444.055,0,425.934,0z"></path><path d="M288.339,139.998H34.068c-18.122,0-32.865,14.743-32.865,32.865v254.272C1.204,445.257,15.946,460,34.068,460h254.272 c18.122,0,32.865-14.743,32.865-32.864V172.863C321.206,154.741,306.461,139.998,288.339,139.998z M288.341,430H34.068    c-1.58,0-2.865-1.285-2.865-2.864V172.863c0-1.58,1.285-2.865,2.865-2.865h254.272c1.58,0,2.865,1.285,2.865,2.865v254.273h0.001 C291.206,428.715,289.92,430,288.341,430z"></path></g></svg></span></div></div>
<pre id="pre681424" style="margin-top:0;" class="lang-csharp notranslate" data-language="cs" data-allowshrink="True" data-collapse="False" data-codeblock-processed="true"><span class="code-keyword">void</span> AdjustLayout() {
    System.Action&lt;FrameworkElement&gt; adjustMargins =
        (FrameworkElement frameworkElement) =&gt; {
        Thickness margin = frameworkElement.Margin;
        Control parent = frameworkElement.Parent <span class="code-keyword">as</span> FrameworkElement;
        <span class="code-keyword">if</span> (parent == <span class="code-keyword">null</span>) <span class="code-keyword">return</span>;
        <span class="code-keyword">if</span> (parent.Margin.Left &gt; <span class="code-digit">0</span>) margin.Left = <span class="code-digit">0</span>;
        <span class="code-keyword">if</span> (parent.Margin.Right &gt; <span class="code-digit">0</span>) margin.Right = <span class="code-digit">0</span>;
        <span class="code-keyword">if</span> (parent.Margin.Top &gt; <span class="code-digit">0</span>) margin.Left = <span class="code-digit">0</span>;
        <span class="code-keyword">if</span> (parent.Margin.Bottom &gt; <span class="code-digit">0</span>) margin.Bottom = <span class="code-digit">0</span>;
        <span class="code-comment">//</span><span class="code-comment">...</span>
        frameworkElement.Margin = margin;
    }; <span class="code-comment">//</span><span class="code-comment">adjustMargins</span>
    System.Action&lt;FrameworkElement,
    System.Action&lt;FrameworkElement&gt;&gt;
        adjustCombined =
        (FrameworkElement frameworkElement, 
        System.Action&lt;FrameworkElement&gt; adjustMarginsMethod) =&gt; {
        <span class="code-keyword">if</span> (adjustMarginsMethod != <span class="code-keyword">null</span>)
            adjustMarginsMethod(frameworkElement);
        <span class="code-comment">//</span><span class="code-comment">other adjustments...</span>
    };
    <span class="code-keyword">foreach</span> (<span class="code-keyword">var</span> element <span class="code-keyword">in</span> <span class="code-keyword">new</span> FrameworkElement[] {
        panelTop,
        panelButtons, panelProperties, })
        adjustMargins(element);
    adjustMargins(panelOutput);
    adjustCombined(panelOutput, adjustMargins);
    <span class="code-comment">//</span><span class="code-comment">...</span>
} <span class="code-comment">//</span><span class="code-comment">AdjustLayout</span></pre>

<!-- Article Ends -->


						</div>
						

						
						<h2>License</h2>
						<div id="LicenseTerms"><p>This article, along with any associated source code and files, is licensed under <a href="http://www.codeproject.com/info/cpol10.aspx" rel="license">The Code Project Open License (CPOL)</a></p></div>
						

						
						<br>
						
						    <br>
						
						

						<div class="clearfix"></div>

						<div style="padding-top:8px">
							
						</div>

					

				    
					</form>

				</div>

				
				<div class="bottom-promo"> 
				    
				</div>
				
                
                

				
				
				

			</div>
			

            
            
            

        </div>
        

		
		<div class="site-footer">
			<div class="align-left">
				<a id="ctl00_PermaLink" href="https://www.codeproject.com/Tips/137796/Hide-Ad-hoc-Methods-Inside-the-Calling-Method-s-Bo">Permalink</a><br>
				<br>
				<a id="ctl00_PrivacyLink" href="https://www.codeproject.com/info/privacy.aspx">Privacy</a><br>
    			<a id="ctl00_CookiePolicyLink" href="https://www.codeproject.com/info/cookie.aspx">Cookies</a><br>
                <a id="ctl00_TermsOfUseLink" href="https://www.codeproject.com/info/TermsOfUse.aspx">Terms of Use</a><br>
			</div>

            <div class="align-center">
				


<div class="page-width">
    Layout: <a id="ctl00_PageWidth_FixedT" title="Fixed width layout" rel="nofollow" class=" active" href="https://www.codeproject.com/Tips/137796/Hide-Ad-hoc-Methods-Inside-the-Calling-Method-s-Bo?PageFlow=FixedWidth">fixed</a>
    |
    <a id="ctl00_PageWidth_FluidT" title="Fluid layout" rel="nofollow" href="https://www.codeproject.com/Tips/137796/Hide-Ad-hoc-Methods-Inside-the-Calling-Method-s-Bo?PageFlow=Fluid">fluid</a>
</div>


				

				

	            

                <br>
			</div>
                
			<div class="align-right">
				Article Copyright 2010 by Sergey Alexandrovich Kryukov<br>Everything else
				Copyright © <a href="mailto:webmaster@codeproject.com">CodeProject</a>, 1999-2024<br>
                <br>
				Web01 
				2.8:2024-12-08:1<br>
			</div>
		</div>
		

		<br clear="all">
		
			

	</div> 
	</div> 
</div>







<script type="text/javascript"> // DEFERRED script

document.addEventListener('DOMContentLoaded', function() {

	new CodeBlocks().initialise('#contentdiv');
	
	$('.author-wrapper .description').shorten({showChars: 400});
	
	anchorAnimate();
	
	$('#__EVENTVALIDATION').attr('autocomplete', 'off');

})
</script>










<style type="text/css">.copied::after {  position: absolute;  right: 0;  display: inline-block; white-space: nowrap; content: 'copied'; color: #fff; background-color: #f90;  border-radius: 3px; padding:1px 8px; opacity: 0;  will-change: opacity, transform; animation: showcopied 1.5s ease; } @keyframes showcopied { 0% { opacity: 0; } 70% { opacity: 1; } 100% { opacity: 0; } } </style><canvas id="cv1" width="1px" height="1px" style="position:absolute;left:0;top:0;pointer-events:none"></canvas><canvas id="cv2" width="1px" height="1px" style="position:absolute;left:0;top:0;pointer-events:none"></canvas></body><grammarly-desktop-integration data-grammarly-shadow-root="true"><template shadowrootmode="open"><style>
      div.grammarly-desktop-integration {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
        -moz-user-select: none;
        -webkit-user-select: none;
        -ms-user-select:none;
        user-select:none;
      }

      div.grammarly-desktop-integration:before {
        content: attr(data-content);
      }
    </style><div aria-label="grammarly-integration" role="group" tabindex="-1" class="grammarly-desktop-integration" data-content="{&quot;mode&quot;:&quot;full&quot;,&quot;isActive&quot;:true,&quot;isUserDisabled&quot;:false}"></div></template></grammarly-desktop-integration></html>